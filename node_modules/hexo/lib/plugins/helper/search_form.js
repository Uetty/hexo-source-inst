'use strict';

function searchFormHelper(options = {}) {
  const { config } = this;
  const className = options.class || 'search-form';
  const { text = 'Search', button } = options;
  var url = config.url || '';
  if (url.startsWith('http://')) {
      url = url.substr(7);
  } else if (url.startsWith('https://')) {
      url = url.substr(8);
  }

  return `<form action="//www.baidu.com/s" method="get" accept-charset="UTF-8" class="${className}"><input type="search" name="q1" class="${className}-input"${text ? ` placeholder="${text}"` : ''}>${button ? `<button type="submit" class="${className}-submit">${typeof button === 'string' ? button : text}</button>` : ''}<input type="hidden" name="q6" value="${url}"></form>`;
}

module.exports = searchFormHelper;
